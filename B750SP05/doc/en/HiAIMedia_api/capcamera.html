
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>CapCamera Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters/expandable-chapters-theme.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-copy/css/copy.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="readframefromcamera.html" />
    
    
    <link rel="prev" href="getcameraproperty.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="media-library-apis.html">
            
                <a href="media-library-apis.html">
            
                    
                    Media Library APIs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="medialibinit.html">
            
                <a href="medialibinit.html">
            
                    
                    MediaLibInit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="ischipalive.html">
            
                <a href="ischipalive.html">
            
                    
                    IsChipAlive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="querycameraids.html">
            
                <a href="querycameraids.html">
            
                    
                    QueryCameraIds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="querycamerastatus.html">
            
                <a href="querycamerastatus.html">
            
                    
                    QueryCameraStatus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="opencamera.html">
            
                <a href="opencamera.html">
            
                    
                    OpenCamera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="setcameraproperty.html">
            
                <a href="setcameraproperty.html">
            
                    
                    SetCameraProperty
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="getcameraproperty.html">
            
                <a href="getcameraproperty.html">
            
                    
                    GetCameraProperty
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.8" data-path="capcamera.html">
            
                <a href="capcamera.html">
            
                    
                    CapCamera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="readframefromcamera.html">
            
                <a href="readframefromcamera.html">
            
                    
                    ReadFrameFromCamera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="closecamera.html">
            
                <a href="closecamera.html">
            
                    
                    CloseCamera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="querymicstatus.html">
            
                <a href="querymicstatus.html">
            
                    
                    QueryMICStatus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="openmic.html">
            
                <a href="openmic.html">
            
                    
                    OpenMIC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="setmicproperty.html">
            
                <a href="setmicproperty.html">
            
                    
                    SetMICProperty
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="getmicproperty.html">
            
                <a href="getmicproperty.html">
            
                    
                    GetMICProperty
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="capmic.html">
            
                <a href="capmic.html">
            
                    
                    CapMIC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="readmicsound.html">
            
                <a href="readmicsound.html">
            
                    
                    ReadMicSound
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="closemic.html">
            
                <a href="closemic.html">
            
                    
                    CloseMIC
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="appendix.html">
            
                <a href="appendix.html">
            
                    
                    Appendix
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="example.html">
            
                <a href="example.html">
            
                    
                    Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >CapCamera</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="capcamera">CapCamera<a id="EN-US_TOPIC_0154783617"></a></h1>
<p>Captures camera image data using the callback function. A callback function has to be provided for the media library. If images are generated at the bottom layer, the callback function will be called by the underlying thread of the media library. You are advised to copy the image data to the specified buffer in the callback function for the subsequent processing.</p>
<h2 id="syntax">Syntax<a id="section51334184"></a></h2>
<p>int CapCamera(int cameraId, CAP_CAMERA_CALLBACK , void* param)</p>
<p>The format of the callback function is as follows:</p>
<p>typedef int (*CAP_CAMERA_CALLBACK) (const void* pdata, int size, void* param)</p>
<h2 id="parameter-description">Parameter Description<a id="section59354473"></a></h2>
<p>The following table describes the parameters of the CapCamera function.</p>
<p><a id="table48629237"></a></p>
<table><thead align="left"><tr id="row14272777"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.1"><p id="p15244259"><a id="p15244259"></a><a id="p15244259"></a><strong>Parameter</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.2"><p id="p26825449"><a id="p26825449"></a><a id="p26825449"></a><strong>Description</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.3"><p id="p25377797"><a id="p25377797"></a><a id="p25377797"></a><strong id="b6226123332216"><a id="b6226123332216"></a><a id="b6226123332216"></a>Value Range</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row42335644"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="p6635160"><a id="p6635160"></a><a id="p6635160"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="p577121"><a id="p577121"></a><a id="p577121"></a>Specified camera ID</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="p46746846"><a id="p46746846"></a><a id="p46746846"></a>[0, 1]</p>
</td>
</tr>
<tr id="row18068436"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="p54257211"><a id="p54257211"></a><a id="p54257211"></a>CAP_CAMERA_CALLBACK</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="p32757962"><a id="p32757962"></a><a id="p32757962"></a>Callback function used to receive data</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="p36149290"><a id="p36149290"></a><a id="p36149290"></a>Valid address of a callback function</p>
</td>
</tr>
<tr id="row56908160"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="p46158236"><a id="p46158236"></a><a id="p46158236"></a>param</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="p47829596"><a id="p47829596"></a><a id="p47829596"></a>User-defined callback parameter</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="p48992040"><a id="p48992040"></a><a id="p48992040"></a>After receiving the image data, the media library returns this parameter to the user through the callback function.</p>
</td>
</tr>
</tbody>
</table>

<p>The following table describes the parameters of the callback function.</p>
<p><a id="table12330141713913"></a></p>
<table><thead align="left"><tr id="row8331131793917"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.1"><p id="p03313177395"><a id="p03313177395"></a><a id="p03313177395"></a><strong id="b136391337144916"><a id="b136391337144916"></a><a id="b136391337144916"></a>Parameter</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.2"><p id="p13331171718391"><a id="p13331171718391"></a><a id="p13331171718391"></a><strong>Description</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.3"><p id="p163311817133916"><a id="p163311817133916"></a><a id="p163311817133916"></a><strong id="b79983382492"><a id="b79983382492"></a><a id="b79983382492"></a>Value Range</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row233220171397"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="p5332217193910"><a id="p5332217193910"></a><a id="p5332217193910"></a>pdata</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="p113321817113918"><a id="p113321817113918"></a><a id="p113321817113918"></a>Address of a frame of image data</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="p1233291711391"><a id="p1233291711391"></a><a id="p1233291711391"></a>This buffer is maintained by the media library and is read-only to users. Users themselves cannot release the memory that the address points to. Otherwise, exceptions may occur.</p>
</td>
</tr>
<tr id="row1333219177393"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="p533291719397"><a id="p533291719397"></a><a id="p533291719397"></a>size</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="p1233271733919"><a id="p1233271733919"></a><a id="p1233271733919"></a>Image data size</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="p143323174395"><a id="p143323174395"></a><a id="p143323174395"></a>The value varies according to the image format and resolution.</p>
</td>
</tr>
<tr id="row113326173396"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="p6332101793911"><a id="p6332101793911"></a><a id="p6332101793911"></a>param</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="p1233221723912"><a id="p1233221723912"></a><a id="p1233221723912"></a>User-defined callback parameter</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="p233231743911"><a id="p233231743911"></a><a id="p233231743911"></a>After receiving the image data, the media library returns this parameter to the user through the callback function.</p>
</td>
</tr>
</tbody>
</table>

<h2 id="return-value">Return Value<a id="section64428217"></a></h2>
<p>For details about the returned error codes, see the  <strong>Error Code</strong>  column in  <a href="#ref1380836">Error Codes</a>.</p>
<h2 id="error-codes">Error Codes<a id="ref1380836"></a></h2>
<p><a id="table41429462"></a></p>
<table><thead align="left"><tr id="row37736471"><th class="cellrowborder" valign="top" width="27%" id="mcps1.1.4.1.1"><p id="p2045694"><a id="p2045694"></a><a id="p2045694"></a><strong id="b478154182617"><a id="b478154182617"></a><a id="b478154182617"></a>True Value</strong></p>
</th>
<th class="cellrowborder" valign="top" width="30%" id="mcps1.1.4.1.2"><p id="p24388998"><a id="p24388998"></a><a id="p24388998"></a><strong id="b0953196102620"><a id="b0953196102620"></a><a id="b0953196102620"></a>Error Code</strong></p>
</th>
<th class="cellrowborder" valign="top" width="43%" id="mcps1.1.4.1.3"><p id="p29351792"><a id="p29351792"></a><a id="p29351792"></a><strong id="b10172410102618"><a id="b10172410102618"></a><a id="b10172410102618"></a>Description</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row28684934"><td class="cellrowborder" valign="top" width="27%" headers="mcps1.1.4.1.1 "><p id="p41778354"><a id="p41778354"></a><a id="p41778354"></a>0</p>
</td>
<td class="cellrowborder" valign="top" width="30%" headers="mcps1.1.4.1.2 "><p id="p28603481"><a id="p28603481"></a><a id="p28603481"></a>LIBMEDIA_STATUS_FAILED</p>
</td>
<td class="cellrowborder" valign="top" width="43%" headers="mcps1.1.4.1.3 "><p id="p35180645"><a id="p35180645"></a><a id="p35180645"></a>Image data fails to be captured.</p>
</td>
</tr>
<tr id="row48190357"><td class="cellrowborder" valign="top" width="27%" headers="mcps1.1.4.1.1 "><p id="p11104819"><a id="p11104819"></a><a id="p11104819"></a>1</p>
</td>
<td class="cellrowborder" valign="top" width="30%" headers="mcps1.1.4.1.2 "><p id="p27075113"><a id="p27075113"></a><a id="p27075113"></a>LIBMEDIA_STATUS_OK</p>
</td>
<td class="cellrowborder" valign="top" width="43%" headers="mcps1.1.4.1.3 "><p id="p45600544"><a id="p45600544"></a><a id="p45600544"></a>Image data is captured successfully.</p>
</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="getcameraproperty.html" class="navigation navigation-prev " aria-label="Previous page: GetCameraProperty">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="readframefromcamera.html" class="navigation navigation-next " aria-label="Next page: ReadFrameFromCamera">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"CapCamera","level":"1.3.8","depth":2,"next":{"title":"ReadFrameFromCamera","level":"1.3.9","depth":2,"path":"readframefromcamera.md","ref":"readframefromcamera.md","articles":[]},"previous":{"title":"GetCameraProperty","level":"1.3.7","depth":2,"path":"getcameraproperty.md","ref":"getcameraproperty.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"imgUrl":"","topnav":[]},"plugins":["expandable-chapters","copy"],"pluginsConfig":{"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"copy":{},"expandableChapters":{"cssFile":["expandable-chapters-theme.css"]},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"website.css"}},"file":{"path":"capcamera.md","mtime":"2019-04-12T02:50:15.792Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-04-12T02:50:18.440Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-copy/js/clipboard.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-copy/js/copy.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

